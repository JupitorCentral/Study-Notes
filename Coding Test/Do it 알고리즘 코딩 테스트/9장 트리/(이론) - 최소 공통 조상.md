

## 최소 공통 조상이란 ?

임의의 두 노드를 선택했을때 두 노드가 각각 자신을 포함해 거슬러 올라가면서 <br>
부모 노드를 탐색할때 처음 공통으로 만나게 되는 부모노드.  <br>
(LCA : Lowerst Common Ancestor) <br>

## 과정

탐색은 DFS 또는 BFS 를 이용해 수행

| 인덱스 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 | 10 | 11 | 12 | 13 | 14 | 15 |
|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|
| 부모 노드 | 0 | 1 | 1 | 2 | 2 | 3 | 3 | 4 | 4 | 6 | 6 | 7 | 7 | 11 | 11 |
| 깊이 | 1 | 2 | 2 | 3 | 3 | 3 | 3 | 4 | 4 | 4 | 4 | 4 | 4 | 5 | 5 |

위 그래프에서 LCA (4, 15) 를 구해보면

### 방법 1

선택한 두 노드의 깊이가 다른 경우  <br>
-> 더 깊은 노드의 부모노드를 1개씩 올려주면서 갚은 깊이로 맞추기. <br>
이때 두 노드가 같으면 해당 노드가 최소 공통 조상. <br>
다르면 부모를 다시 올려주기. <br>

그러나 트리의 높이가 커질 경우 시간 복잡도 문제에 직면할 수 있음.

### 방법 2 - 최소공통조상 빠르게 구하기

한단계씩 올라가는게 아니라 $2^{K}$ 씩 올라가기. <br>
따라서 기존에 자신의 부모노드만 저장해 놓던 방식에서 $2^{k}$ 위치의 부모노드까지 저장해두어야 함.

#### 1. 부모 노드 저장 배열 만들기

##### 부모 노드 배열의 정의
$P[K][N]$ (팩토리얼) = N번 노드의 $2^{K}$ 번때 부모의 노드 번호

##### 부모 노드 배열의 점화식
$P[K][N] = P[K-1][P[K-1][N]]$

-> N의 $2^{K}$ 번째 부모 노드는 

[여기서부터 이해가 잘 안감]

#### 2. 선택된 두 노드의 깊이 맞추기

#### 3. 최소 공통 조상 찾기
